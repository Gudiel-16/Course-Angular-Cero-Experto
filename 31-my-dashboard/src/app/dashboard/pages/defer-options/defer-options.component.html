<app-title title="Defer Triggers"></app-title>

<section>
    <h1 class="text-xl">on interaction</h1>
    <hr class="my-2">

    @defer(on interaction){
        <app-heavy-loaders-fast cssClass="bg-blue-500 h-20">
            <span>On Interaction</span>
        </app-heavy-loaders-fast>
    } @placeholder {
        <div class="w-full h-20 bg-purple-100">
            Click en div, para cargar y mostrar
        </div>
    }
</section>

<section>
    <h1 class="text-xl mt-7">on interaction con boton</h1>
    <button 
        #btnInteraction
        class="p-2 bg-blue-500 hover:bg-blue-700 transition-all rounded text-white my-2">
        Click me!
    </button>
    <hr class="my-2">

    @defer(on interaction(btnInteraction)){
        <app-heavy-loaders-fast cssClass="bg-blue-500 h-20">
            <span>On Interaction con boton</span>
        </app-heavy-loaders-fast>
    } @placeholder {
        <div class="w-full h-20 bg-purple-100">
            Click en boton, para cargar y mostrar
        </div>
    }
</section>

<section>
    <h1 class="text-xl mt-7">on hover</h1>
    <hr class="my-2">

    <!-- se puede poner referencia local: on hover(referencia) -->
    @defer( on hover ){ 
        <app-heavy-loaders-fast cssClass="bg-blue-500 h-20">
            <span>On hover</span>
        </app-heavy-loaders-fast>
    } @placeholder {
        <div class="w-full h-20 bg-purple-100">
            Pasar cursor arriba, para cargar y mostrar
        </div>
    }
</section>

<section>
    <h1 class="text-xl mt-7">on inmediate</h1>
    <hr class="my-2">

    @defer( on immediate ) { 
        <app-heavy-loaders-fast cssClass="bg-blue-500 h-20">
            <span>On immediate</span>
        </app-heavy-loaders-fast>
    } @placeholder {
        <div class="w-full h-20 bg-purple-100">
            Se carga tan pronto pueda, sin bloquear la aplicacion
        </div>
    }
</section>

<section>
    <h1 class="text-xl mt-7">on timer</h1>
    <hr class="my-2">

    @defer( on timer(2000) ) { 
        <app-heavy-loaders-fast cssClass="bg-green-500 h-20">
            <span>On timer</span>
        </app-heavy-loaders-fast>
    } @placeholder {
        <div class="w-full h-20 bg-purple-100">
            Se carga despues de 2 segundos
        </div>
    }
</section>

<section>
    <h1 class="text-xl mt-7">on hover, idle</h1>
    <hr class="my-2">

    <!-- prefetch empieza a preparar, pero no empieza a contruirse -->
    @defer( on hover; prefetch on idle ) { 
        <app-heavy-loaders-fast cssClass="bg-green-500 h-20">
            <span>On hover, idle</span>
        </app-heavy-loaders-fast>
    } @placeholder {
        <div class="w-full h-20 bg-purple-100">
            Lo empieza a preperar por si es muy pesado
        </div>
    }
</section>